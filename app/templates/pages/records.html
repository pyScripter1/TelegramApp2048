{% extends "base.html" %}

{% block title %}–†–µ–∫–æ—Ä–¥—ã 2048{% endblock %}


{% block content %}
<div class="heading">
    <h1 class="title">–¢–æ–ø-{{ records|length }} –∏–≥—Ä–æ–∫–æ–≤</h1>
</div>

<div class="score-table">
    <table>
        <thead>
        <tr>
            <th>–ú–µ—Å—Ç–æ</th>
            <th>Telegram ID</th>
            <th>–ò–º—è</th>
            <th>–û—á–∫–∏</th>
        </tr>
        </thead>
        <tbody>
        {% for record in records %}
        <tr>
            <td class="{% if record.rank == 1 %}first-place{% elif record.rank == 2 %}second-place{% elif record.rank == 3 %}third-place{% endif %}">
            <span class="rank-icon">
                {% if record.rank == 1 %}ü•á{% elif record.rank == 2 %}ü•à{% elif record.rank == 3 %}ü•â{% else %}{{ record.rank }}{% endif %}
            </span>
            </td>
            <td>{{ record.telegram_id }}</td>
            <td>{{ record.first_name }}</td>
            <td>{{ record.best_score }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<div class="button-group">
    <button class="icon-btn play-btn" onclick="window.location.href='/'">
        <!-- Play Icon -->
        <svg width="24" height="24" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z" fill="currentColor"></path>
        </svg>
    </button>
    <button class="icon-btn reset-btn" id="clearStorageButton">
        <!-- Reset Icon -->
        <svg width="24" height="24" viewBox="0 0 24 24">
            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 .34-.03.67-.08 1H18c0-3.31-2.69-6-6-6zM6 13c0 3.31 2.69 6 6 6v3l4-4-4-4v3c-2.76 0-5-2.24-5-5H6c0 .34.03.67.08 1H6c-.05-.33-.08-.66-.08-1z"
                  fill="currentColor"></path>
        </svg>
    </button>
    <button class="icon-btn exit-btn" onclick="window.Telegram.WebApp.close()">
        <!-- Exit Icon -->
        <svg width="24" height="24" viewBox="0 0 24 24">
            <path d="M16 13v-2H7V9l-5 4 5 4v-3h9zM19 3H5c-1.1 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"
                  fill="currentColor"></path>
        </svg>
    </button>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="/static/js/local_storage_manager.js?v=1.1.4"></script>
{% endblock %}